# 특강 210423



### 줄 세우기

- 이 문제는 위상 정렬 - DAG (directed acyclic graph) 가 주어졌을 때, 정점들을 방향을 거스르지 않도록 일렬로 나열하는 것
- 모든 간선 "u -> v"에 대해서, 정점 u가 정점 v보다 앞에 와야함



#### 관찰

- 특성 (관찰) - 가장 맨 앞에 무엇이 올 수 있을까?
  - 제일 앞에 오는 정점은 indegree(자신에게 들어오는 간선 갯수 = 내가 도착점인 간선 수)가 0이어야 함
  - outdegree - 자신을 시작으로 나가는 간선의 수(내가 시작점인 간선 수)
- 관찰 2 - 위상 정렬을 한 후 indegree 가 0인 정점은 앞으로 옮겨도 정렬이 유지됨
  - 예시 그림에서 1, 4는 indegree 가 0이므로 서로의 위치를 옮겨도 결과에 지장이 없다.



#### 자료구조 를 이용한 위상 정렬 (큐 추천)

- 어떤 자료구조든 넣었다 뺄 수만 있으면 상관없지만, 앞에서 넣고 뺄 때 가장 효율적인 자료구조가 queue라서 queue를 추천하는 것, 어떤 것을 쓰던 상관없다.
- 각 입력을 받을때마다 indegree 배열을 통해 갯수를 관리
- 큐를 기준으로하면

- 1. indegree가 0인 정점들을 자료구조에 추가한다. - 가장 앞에 올 수 있는 값들
  2. 자료구조가 빌 때까지 다음을 반복한다. o(n+m)
     1. 자료구조에서 정점을 하나 뽑아 배치한다. -> o(1) -> o(n) 
     2. 해당 정점에서 뻗어나가는 간선들을 삭제한다. (해당 정점은 이제 존재하지 않으므로 관련 내용 다 없앰) -> o(간선 개수, 인접리스트 기준) -> o(m) 
     3. 이로 인해 indegree 가 0이 된 정점들을 자료구조에 추가한다. -> o(indegree가 0이된 정점 수) -> o(m)
  3. 배치가 안된 정점이 남아있다면, 주어진 그래프에 사이클이 존재하는 것이다. (즉 DAG가 아님)
- 시간복잡도를 구하기 전에 어떤 자료구조인지 선택해야함
  - 우선순위가 필요한 것도 아니고, 특정 아이템을 넣었다 빼는것이기 때문에 queue나 stack을 사용



#### 코치가 위상정렬을 사용하는 경우

- 대놓고 위상정렬을 사용하라고 하는경우
- dp 에서 작은 문제가 위상정렬 순서면 위상정렬 후 풀기
  - acm craft (백준 1005번) - 문제 순서에서 위상정렬
- functional graph 에서 자주 쓰임(코테에서 자주 나옴?)
  - 모든 정점이 나가는 간선을 최소 하나씩 가짐
- 사이클 존재 확인



### 기하 컨벡스

- 코테에서는 절대 안나올만한 문제 (기하)
- 다각형 - 정점 별로 이어준 도형 (시계 방향, 반시계방향)
- 단순 다각형 - 인접하지 않은 간선들이 서로 교차하지 않는 다각형
- 세점의 회전 방향 개념 (counter clock-wise)
- 두 선분이 교차하는 지 알 수 있다.
- 볼록 외피 문제 (convex hull)

#### 관찰

- y가 가장 아래에 있는 점이 정답에 되는 점 중에 하나로 포함된다(외피로 반드시 포함되어야 하기 때문 - 얘보다 낮은 좌표가 없기 때문에) - 극단점
- 만약 y좌표가 같다면 가장 왼쪽것을 선택할 것(어느쪽이든 상관없겠지만)



#### 진행

- 가장 아래있는 점을 기준으로 다른 점들을 정렬해줄 것
- 정렬 방법이 있다고 하면 o(nlogn) 으로 정렬 가능 (시계방향, 반시계방향)
- 정점을 하나씩 추가하면서 convex hull을 구할 것 2번째 점(극단점, 1번, 2번)까지는 삼각형이라 무조건 추가 3번 점은 왼쪽으로 회전, 4번 점은 우측으로 회전 이렇다는 의미는 4번점으로 convex hull을 형성하면 3번점은 그안에 포함된다는 의미 - 3번은 나감 
- 즉 새로들어온 점이 이전 점 기준으로 왼쪽으로 꺾이면 살아남고 우측방향으로 꺾이면 탈락한다. 





#### 테스트케이스 만드는법

- 사실 문제마다 여러가지 테스트 케이스 만드는 법이 달라지는데 
- 일반적인 방법
- 문제의 크기가 가장 컸을 때 (n , m 최대값) - 정답의 최대치 - 내가 써야하는 자료형을 알 수 있다.
- 정답이 나올수 있는 가짓수
- 연습하는 방법 - 백준 문제 질문 게시판에서 어떻게 고쳐줄지 대답해보기 - 코드를 이해할 수 있는지, 놓치고 있는게 무엇인지

https://github.com/rhs0266/FastCampus