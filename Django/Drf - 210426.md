# Drf - 210426



## 오전 라이브



### Rest API



#### 들어가기 전에

- API - 프로그래밍 언어가 제공하는 기능을 수행할 수 있게 만든 인터페이스
- Web API - 웹 어플리케이션 개발에서 다른 서비스에 요청을 보내고 응답을 받기 위해 정의된 명세
  - 구글, 카카오 지도 API, 우편번호, 도로명 지번 소 검색 API 등

- 장고까지는 html 문서로 클라이언트와 주고받았다면 오늘 부터는 json으로 응답할 것
- json - 딕셔너리와 유사한 형태
  - 우리가 TMDB API를 사용하면서 json을 사용해 보았음 + 연습 프로젝트에서 json을 활용



#### RESTful API

- REpresentational State Transter
- 웹 설계 상의 장점을 최대한 활용 할 수 있는 아키텍처 방법론 - 어떻게 하면 API의 상태, 진행 결과를 잘 보여주고 잘 사용하도록 할까에 대한 생각
- 네트워크 아키텍쳐 원리의 모음
  - 1. 자원을 정의
    2. 자원에 대한 주소를 지정하는 방법
- REST 원리를 따르는 시스템 혹은 API를 RESTful API라고 하기도 함
- 회사 지원 요건에서 많이 봤습니다 - RESTful API에 대한 조예가 깊으시는 분 우대
- REST의 구성
  - 자원 - URL
  - 행위 - HTTP Method
  - 표현 - Representations



#### URL

##### URI

- Uniform Resource Identifier
- 통합 자원 식별자
- 인터넷의 자원을 나타내는 유일한 주소
- 인터넷에서 자원을 식별하거나 이름을 지정하는 데 사용되는 간단한 문자열
- 하위 개념
  - URL, URN



##### URL

- Uniform Resource Locator
- 통합 자원 위치
- 네트워크 상에 자원(리소스)이 어디 있는지(주소)를 알려주기 위한 약속
- 자원은 HTML 페이지, CSS 문서, 이미지 등이 될 수 있음
- '웹 주소' 또는 '링크' 라고도 불림



##### URN

- Uniform Resource Name
- 자원의 인식표 (자원의 주민등록증), 상대적 위치에 영향 받지 않는 유일한 이름 역할을 함, 자원의 위치를 바꿔도 문제 없이 작동



##### URL과 URN

- URN은 자원의 ID를 제공하고, URL은 자원을 찾는 방법을 제공
- 따라서 URN과 URL은 상호 보완적





#### ㅇ

- 3.2 버전 이전에는 pk -> autofield로 생성되었는데 3.2 버전에는 bigautofield로 생성되어서 차이에 따른 경고 메세지를 보냄







## 오후 코칭

- 장고 서버는 요청에 따른 템플릿을 반응하는 (html) 서버
- 이번 부터는 요청이 들어온 특정 데이터를 잘 가공해서 응답만해주는 API 서버를 구성

- 장고 까지는 웹어플리케이션 서버였고 오늘 부터는 API 서버를 만들게 될 것이다.
- 이번주 월~화 - REST API, 수~목 - JS
- REST API 복습 
  - REST API를 들어가기 전 API의 개념 부터 한번 더 보고가기 - 어플리케이션과 프로그램으로 소통하는 방법으로 프로그래밍 언어가 제공하는 특정 기능을 수행 할 수 있게 만든 인터페이스
  - 인터페이스 - CLI - 커맨드라인(명령어 ls cd 등등), GUI - os와 그래픽(아이콘), API - 프로그램으로 받음(장고, js 등등)
  - web api - 다른 서비스에 요청을 보내고 응답을 받기 위해 정의된 명세
- 예시 1 - https://www.coupang.com/vp/products/27613130?itemId=109846121&isAddedCart=
- 클라이언트 사이드에서 보여주는 (쿠팡의 화면처럼) 기능
- 서버 (백엔드)에서 데이터를 보내주는 과정 2가지로 나눠서 진행될것

- 대부분 상용 프로그램은 일반 서버는 데이터를 요청받으면 제공을 하고 클라이언트 서버에서는 받은 json 파일을 가공하여 보여줌
- 우리가 지금 다루는 쪽은 API server? 
- API 서버에서는 요청받은 명세에 맞게 처리하여 json 파일을 반환하는 기능
- REST - 웹 설계상의 장점을 활용한 아키텍처 방법론 - REST 원리를 따르는 시스템 혹은 API를 RESTful API라고 함



- 과거에는 정적 html 이어서 html 파일이 나열되어있고 다른 사람에 저장되어있는 html 통해서 사이트를 볼 수 있는 방식의 사이트가 많았음?
- URL - 과거에는 자원이 저장된 위치를 가르켰으나, 현재 웹은 사용자에 요청에 따라 동적으로 작동하는 방식이 많아졌으므로 요구한 사항에 맞춰서 받아 올 수 있게 된 것을 통합 자원 식별자 (URI)로 발전되었다.
- URI 구조 - protocol(http, https):// host:port/path + ?query, #fragment
- 우리는 웹 API에서 URI를 사용한다.
- http method
  - 이제까지 get, post만 사용했지만 추가로 put과 delete를 사용
  - get - 데이터 요청, post - 데이터 생성 등, put - 데이터 수정, delete -데이터 삭제
  - 각 요청에 따라 맞춰서 기능을 생성 - CRUD
- URL - 특정 기능들에 대한 이름들을 잘 정의 해야한다. - 정보의 자원을 표현 -> 자원을 계층구조로 잘 표현해야한다.
- HTTP Method - 자원들에 대한 기능을 담당, 특정 기능들을 기능에 맞게 요청을 잘 나누어서 관리
- Representation - 사용자에게 데이터를 어떻게 전달할까 - 약속으로 Json 파일로 제공
  - 네트워크에는 문자열이나 바이너리 형태로 보내야 하는데 보내기 쉬운 구조 중에 하나가 키 : 밸류 쌍임. 대부분의 언어에서는 키 : 밸류 형태로 가진 자료구조가 존재하므로 json 파일로 하여 보내는 것
- json - 자바스크립트 객체 문법을 따르며, 구조화된 문자 기반 데이터 포멧
  - 사람들이 읽고 쓰기 편하다.

- 클라이언트 템플릿을 만드는 프레임워크 (vus.js) 와 장고 서버에서 json으로 보내는 방법에 대해 배우게 될 것